const _0x5c7c16=_0x2599;(function(_0x2bcaf5,_0x2b989b){const _0x6242a6=_0x2599,_0x3b03bb=_0x2bcaf5();while(!![]){try{const _0x5e9bfe=-parseInt(_0x6242a6(0x103))/0x1+parseInt(_0x6242a6(0x10a))/0x2+-parseInt(_0x6242a6(0xeb))/0x3*(parseInt(_0x6242a6(0xf2))/0x4)+-parseInt(_0x6242a6(0xef))/0x5*(parseInt(_0x6242a6(0xea))/0x6)+-parseInt(_0x6242a6(0x100))/0x7+parseInt(_0x6242a6(0xfb))/0x8*(-parseInt(_0x6242a6(0x102))/0x9)+parseInt(_0x6242a6(0x110))/0xa*(parseInt(_0x6242a6(0xe6))/0xb);if(_0x5e9bfe===_0x2b989b)break;else _0x3b03bb['push'](_0x3b03bb['shift']());}catch(_0x1fd88a){_0x3b03bb['push'](_0x3b03bb['shift']());}}}(_0x5e0a,0xc1ba8));const mongoose=require(_0x5c7c16(0xf1)),fs=require('fs'),path=require('path'),config=require(_0x5c7c16(0x113)),databaseFolder=path[_0x5c7c16(0xff)](__dirname,'database');!fs[_0x5c7c16(0xf8)](databaseFolder)&&fs[_0x5c7c16(0xfd)](databaseFolder);const settingsSchema=new mongoose[(_0x5c7c16(0xf6))]({'OWNER_NUMBER':{'type':String,'default':_0x5c7c16(0x10c)},'MV_SIZE':{'type':String,'default':'0'},'NAME':{'type':String,'default':''},'JID':{'type':String,'default':''},'SEEDR_MAIL':{'type':String,'default':''},'SEEDR_PASSWORD':{'type':String,'default':''},'LANG':{'type':String,'default':'SI'},'SUDO':{'type':[String],'default':[]},'JID_BLOCK':{'type':[String],'default':[]},'ANTI_BAD':{'type':[String],'default':[]},'MAX_SIZE':{'type':Number,'default':0x96},'ANTI_CALL':{'type':String,'default':_0x5c7c16(0xfa)},'AUTO_READ_STATUS':{'type':String,'default':_0x5c7c16(0xfa)},'AUTO_BLOCK':{'type':String,'default':'false'},'AUTO_STICKER':{'type':String,'default':_0x5c7c16(0xfa)},'AUTO_VOICE':{'type':String,'default':_0x5c7c16(0xfa)},'AUTO_REACT':{'type':String,'default':_0x5c7c16(0xfa)},'CMD_ONLY_READ':{'type':String,'default':_0x5c7c16(0x105)},'WORK_TYPE':{'type':String,'default':_0x5c7c16(0xfe)},'XNXX_BLOCK':{'type':String,'default':_0x5c7c16(0x105)},'AUTO_MSG_READ':{'type':String,'default':_0x5c7c16(0xfa)},'AUTO_TYPING':{'type':String,'default':_0x5c7c16(0xfa)},'AUTO_RECORDING':{'type':String,'default':'false'},'AUTO_WELCOME_LEAVE':{'type':[String],'default':[]},'ANTI_LINK':{'type':String,'default':'false'},'ANTI_BOT':{'type':String,'default':_0x5c7c16(0xfa)},'ALIVE':{'type':String,'default':_0x5c7c16(0x109)},'PREFIX':{'type':String,'default':'.'},'CHAT_BOT':{'type':String,'default':_0x5c7c16(0xfa)},'ALLWAYS_OFFLINE':{'type':String,'default':'false'},'MV_BLOCK':{'type':String,'default':_0x5c7c16(0x105)},'BUTTON':{'type':String,'default':_0x5c7c16(0xfa)},'ACTION':{'type':String,'default':_0x5c7c16(0xed)},'ANTILINK_ACTION':{'type':String,'default':_0x5c7c16(0xed)},'VALUSE':{'type':[String],'default':[]},'LOGO':{'type':String,'default':'https://mv-visper-full-db.pages.dev/Data/visper_main.jpeg'},'ANTI_DELETE':{'type':String,'default':'off'},'AUTO_VOICE':{'type':String,'default':_0x5c7c16(0xfa)},'LEAVE_MSG':{'type':String,'default':''}}),Settings=mongoose[_0x5c7c16(0xf7)](config[_0x5c7c16(0xf3)],settingsSchema);async function connectdb(){const _0x1c0ac0=_0x5c7c16;try{await mongoose[_0x1c0ac0(0xf0)]('mongodb+srv://ARmfHjXz:YiSbuJIMvWfjA95M@us-east-1.ufsuw.mongodb.net/Sadasnew'),console[_0x1c0ac0(0xe9)](_0x1c0ac0(0xfc));const _0xebb694=await Settings['countDocuments']();_0xebb694===0x0&&await initializeSettings();}catch(_0x10bbe6){console[_0x1c0ac0(0x10d)](_0x1c0ac0(0x10f),_0x10bbe6);}}async function initializeSettings(){const _0x401d81=_0x5c7c16,_0x386998=new Settings();await _0x386998[_0x401d81(0x104)](),console['log'](_0x401d81(0xee));}async function updateCMDStore(_0x2ed74d,_0x4a75c9){const _0x465e49=_0x5c7c16;try{const _0x26c310=path[_0x465e49(0xff)](databaseFolder,_0x465e49(0xf9)),_0xba8617=fs[_0x465e49(0xf8)](_0x26c310)?await readJsonFile(_0x26c310):[];return _0xba8617[_0x465e49(0x106)]({[_0x2ed74d]:_0x4a75c9}),await writeJsonFile(_0x26c310,_0xba8617),!![];}catch(_0x536a56){return console[_0x465e49(0xe9)]('Error\x20updating\x20command\x20store:',_0x536a56),![];}}async function isbtnID(_0x174a66){const _0x167b1c=_0x5c7c16;try{const _0x346488=path[_0x167b1c(0xff)](databaseFolder,_0x167b1c(0xf9)),_0x5e89fc=fs['existsSync'](_0x346488)?await readJsonFile(_0x346488):[];return _0x5e89fc['some'](_0x1ad5e5=>_0x1ad5e5[_0x174a66]);}catch(_0x232fcd){return![];}}async function getCMDStore(_0x591aee){const _0x54d2b2=_0x5c7c16;try{const _0x71e7d7=path[_0x54d2b2(0xff)](databaseFolder,_0x54d2b2(0xf9)),_0x2e067e=fs[_0x54d2b2(0xf8)](_0x71e7d7)?await readJsonFile(_0x71e7d7):[],_0x12240a=_0x2e067e[_0x54d2b2(0xec)](_0x64f1ef=>_0x64f1ef[_0x591aee]);return _0x12240a?_0x12240a[_0x591aee]:null;}catch(_0x4cd96d){return console['log'](_0x54d2b2(0xf4),_0x4cd96d),null;}}async function input(_0x4819cd,_0x1e0486){const _0x195da4=_0x5c7c16,_0x5121a2=await Settings[_0x195da4(0x10b)]();_0x5121a2&&_0x4819cd in _0x5121a2&&(_0x5121a2[_0x4819cd]=_0x1e0486,await _0x5121a2[_0x195da4(0x104)]());}function _0x2599(_0xb3a38c,_0x40fc8b){const _0x5e0a17=_0x5e0a();return _0x2599=function(_0x25994b,_0x5f45bf){_0x25994b=_0x25994b-0xe6;let _0x4ef098=_0x5e0a17[_0x25994b];return _0x4ef098;},_0x2599(_0xb3a38c,_0x40fc8b);}async function get(_0xbae62){const _0x27acaf=_0x5c7c16,_0x3183fc=await Settings[_0x27acaf(0x10b)]();return _0x3183fc?_0x3183fc[_0xbae62]:null;}async function updb(){const _0x20c608=_0x5c7c16,_0x21219=await Settings['findOne']();Object[_0x20c608(0x10e)](config,_0x21219['toObject']()),console[_0x20c608(0xe9)](_0x20c608(0xe7));}async function updfb(){const _0x543bd6=_0x5c7c16;await resetSettings(),console[_0x543bd6(0xe9)]('Database\x20reset\x20and\x20initialized\x20‚úÖ');}async function upresbtn(){const _0x4ed11b=_0x5c7c16;await writeJsonFile(path[_0x4ed11b(0xff)](databaseFolder,'data.json'),[]),console['log'](_0x4ed11b(0xe8));}function getCmdForCmdId(_0x291701,_0x5e5bd8){const _0x33ffbc=_0x5c7c16,_0x3b7b5b=_0x291701[_0x33ffbc(0xec)](_0x1fa287=>_0x1fa287[_0x33ffbc(0xf5)]===_0x5e5bd8);return _0x3b7b5b?_0x3b7b5b['cmd']:null;}async function resetSettings(){const _0x347ae4=_0x5c7c16;await Settings[_0x347ae4(0x111)](),await initializeSettings();}async function readJsonFile(_0x3737b8){return new Promise((_0x51a2e2,_0x5b79e2)=>{const _0x48a057=_0x2599;fs[_0x48a057(0x107)](_0x3737b8,'utf8',(_0x33a13f,_0x39955b)=>{const _0x356343=_0x48a057;_0x33a13f?_0x5b79e2(_0x33a13f):_0x51a2e2(JSON[_0x356343(0x108)](_0x39955b));});});}async function getalls(){const _0x2d6614=await Settings['findOne']();return _0x2d6614?_0x2d6614['toJSON']():null;}async function writeJsonFile(_0x1f1de6,_0x18d902){return new Promise((_0x467e7e,_0x525cdd)=>{const _0x82b0e1=_0x2599;fs[_0x82b0e1(0x112)](_0x1f1de6,JSON[_0x82b0e1(0x101)](_0x18d902,null,0x2),_0x387b05=>{_0x387b05?_0x525cdd(_0x387b05):_0x467e7e(!![]);});});}function _0x5e0a(){const _0x55a07c=['329592ofZLEV','273HweAGV','find','delete','Settings\x20initialized\x20‚úÖ','80nmXElu','connect','mongoose','52908QDmDGl','SESSION_ID','Error\x20retrieving\x20command\x20store:','cmdId','Schema','model','existsSync','data.json','false','2358344NEGwmJ','Database\x20connected\x20üõ¢Ô∏è','mkdirSync','private','join','569016PRfbhC','stringify','9wZOOvM','18612owNTfP','save','true','push','readFile','parse','default','1919754MibiHW','findOne','94721475081','error','assign','\x20‚îú\x20Database\x20connection\x20error:','344910fgvrLd','deleteMany','writeFile','../config','737gSwbcG','Database\x20updated\x20‚úÖ','\x20‚îú\x20Command\x20store\x20reset\x20‚úÖ','log'];_0x5e0a=function(){return _0x55a07c;};return _0x5e0a();}connectdb()['catch'](console[_0x5c7c16(0x10d)]),module['exports']={'updateCMDStore':updateCMDStore,'isbtnID':isbtnID,'getCMDStore':getCMDStore,'input':input,'get':get,'getalls':getalls,'updb':updb,'updfb':updfb,'upresbtn':upresbtn,'getCmdForCmdId':getCmdForCmdId,'connectdb':connectdb};
